
package payload

import (
	"errors"
	"strconv"
)

func Info(payload_type string, payload_identifier string) (payload Payload,
	err error) {

	payloads, err := Dump(payload_type)
	if err != nil { return payload, err }

	payload_id, err := strconv.Atoi(payload_identifier)
	
	if err != nil {
		payload_name := payload_identifier
		payload, err = payloadByName(payload_name, payloads)
	} else {
		payload, err = payloadByID(payload_id, payloads)
	}

	return payload, err

}

func payloadByID(payload_id int, payloads []Payload) (payload Payload,
	err error) {

	for _, payload := range payloads {

		if (payload.ID == payload_id) {
			return payload, err
		}

	}

	err = errors.New("payload not found")

	return payload, err

}

func payloadByName(payload_name string, payloads []Payload) (payload Payload,
	err error) {

	for _, payload := range payloads {

		if (payload.Name == payload_name) {
			return payload, err
		}

	}

	err = errors.New("payload not found")
	
	return payload, err

}
